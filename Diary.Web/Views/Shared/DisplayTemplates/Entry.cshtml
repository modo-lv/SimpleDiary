@using Diary.Main.Domain.Entities
@using Diary.Web.Controllers

@model Diary.Api.Dtos.EntryDto

<article class="entry">
	<header>
		@Html.DisplayFor(m => m.Timestamp)
		<div class="action buttons">
			<a href="@this.Url.Action(nameof(EntriesController.Edit), new {Model.Id})">Edit</a>
			<a href="@this.Url.Action(nameof(EntriesController.Delete), new {Model.Id})">Delete</a>
		</div>
	</header>
	<div class="typed content">
		@if (!String.IsNullOrEmpty(Model.Name))
		{
			<h1>@Model.Name</h1>
		}

		@if (Model.Type == EntryType.File && Model.FileContent?.FileType == FileEntryType.Image)
		{
			if (!String.IsNullOrEmpty(Model.FileContent?.FileUrl))
			{
				<img src="@Url.Content(Model.FileContent.FileUrl)" alt="@Model.FileContent.FileName"/>
			}
		}
		else if (Model.Type == EntryType.Text)
		{
			@Model.TextContent?.Content
		}
	</div>
	<footer>
		@if (!String.IsNullOrEmpty(Model.Description))
		{
			@Model.Description
		}
	</footer>
</article>